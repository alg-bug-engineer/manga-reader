# 视频动漫功能产品需求文档 (PRD)

## 一、项目背景

### 1.1 当前产品定位
- **产品名称**: 芝士AI吃鱼
- **核心价值**: 通过生动有趣的漫画形式，轻松掌握人工智能前沿技术
- **目标用户**: AI学习者、技术爱好者、对AI科普感兴趣的普通用户
- **核心功能**: 图文漫画阅读、收藏管理、评论互动、用户系统

### 1.2 新需求背景
用户希望将漫画内容转化为视频动漫形式，同一角色在漫画和视频中保持一致性，实现"漫画+视频"双媒介的内容呈现。

---

## 二、产品定位与策略

### 2.1 产品定位升级
**从单一漫画平台 → "AI知识科普双媒介平台"**

- **核心Slogan建议**:
  - "漫画+视频，AI知识立体学"
  - "看漫画学AI，看视频懂原理"
  - "AI知识，动静皆宜"

### 2.2 目标用户扩展
1. **现有用户** (视觉学习者)
   - 喜欢图文静态阅读的用户
   - 偏好自我控制阅读节奏

2. **新增用户** (视频学习者)
   - 偏好动态视觉呈现
   - 喜欢被动接收信息
   - 碎片化时间学习者
   - 移动端重度用户

### 2.3 差异化竞争策略
- **vs 抖音/B站**: 不是泛娱乐平台，而是垂直AI教育平台
- **vs 传统在线课程**: 更生动、更有趣、更碎片化
- **vs 其他科普平台**: 漫画+视频双媒介联动，形成独特内容矩阵

---

## 三、核心功能设计

### 3.1 布局策略：**混合布局 + 类型筛选**

#### 推荐方案：**混合布局，但强化类型区分**

**理由**:
1. ✅ **角色一致性**: 同一AI角色在漫画和视频中都出现，形成IP联动
2. ✅ **学习自由度**: 用户可选择偏好的学习方式
3. ✅ **内容复用**: 同一知识点可以"漫画入门+视频深入"的组合
4. ✅ **流量互通**: 漫画用户可转化为视频用户，反之亦然

**实现方式**:
- **首页混合展示**: 漫画和视频内容在同一流中展示
- **明显类型标识**: 卡片上标注"漫画"或"视频"
- **类型筛选器**: 用户可筛选只看漫画/只看视频/全部
- **智能推荐**: 看完漫画后推荐同一主题的视频

#### 页面布局设计

```
┌─────────────────────────────────────┐
│  导航栏: [首页] [漫画] [视频] [我的]  │  ← 新增"视频"Tab
├─────────────────────────────────────┤
│  Hero区: AI知识立体学                │
│  [漫画图标] + [视频图标]             │
├─────────────────────────────────────┤
│  内容类型切换: [全部] [漫画] [视频]   │  ← 新增类型筛选
├─────────────────────────────────────┤
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   │
│  │漫画 │ │视频 │ │漫画 │ │视频 │   │  ← 混合展示
│  │标签 │ │标签 │ │标签 │ │标签 │   │
│  └─────┘ └─────┘ └─────┘ └─────┘   │
└─────────────────────────────────────┘
```

### 3.2 视频功能设计

#### 3.2.1 **核心功能对齐** (与漫画功能保持一致)

| 功能模块 | 漫画功能 | 视频功能 | 实现优先级 |
|---------|---------|---------|----------|
| 内容展示 | 图文翻页 | 视频播放 | ⭐⭐⭐⭐⭐ |
| 分类筛选 | AI分类 | AI分类 | ⭐⭐⭐⭐⭐ |
| 搜索 | 标题/作者/标签 | 标题/作者/标签 | ⭐⭐⭐⭐⭐ |
| 收藏 | 收藏漫画 | 收藏视频 | ⭐⭐⭐⭐⭐ |
| 书架 | 添加到书架 | 添加到书架 | ⭐⭐⭐⭐⭐ |
| 点赞 | 点赞 | 点赞 | ⭐⭐⭐⭐⭐ |
| 评论 | 评论区 | 评论区 | ⭐⭐⭐⭐⭐ |
| 分享 | 分享功能 | 分享功能 | ⭐⭐⭐⭐ |
| 阅读进度 | 章节进度 | 播放进度 | ⭐⭐⭐⭐ |
| 推荐系统 | 相关推荐 | 相关推荐 | ⭐⭐⭐ |

#### 3.2.2 **视频特色功能** (新增)

1. **弹幕功能** (可选)
   - 教育类视频慎用弹幕
   - 建议：仅允许"知识点标记"类弹幕
   - 实现优先级: ⭐⭐

2. **倍速播放** (必需)
   - 0.5x / 0.75x / 1x / 1.25x / 1.5x / 2x
   - 实现优先级: ⭐⭐⭐⭐⭐

3. **字幕开关**
   - AI生成字幕
   - 支持中英文字幕切换
   - 实现优先级: ⭐⭐⭐⭐

4. **时间戳笔记** (特色功能)
   - 用户可在视频任意时间点添加笔记
   - 笔记与时间戳绑定，点击跳转
   - 实现优先级: ⭐⭐⭐⭐

5. **知识点书签** (特色功能)
   - 标记重要时间点
   - 生成个人知识图谱
   - 实现优先级: ⭐⭐⭐

6. **相关漫画联动** (特色功能)
   - 视频详情页显示"相关漫画"
   - "先看漫画理解，再看视频深入"
   - 实现优先级: ⭐⭐⭐⭐⭐

#### 3.2.3 **视频播放器UI设计**

**参考TikTok/抖音？部分参考，但不完全照搬**

**借鉴元素**:
- ✅ 全屏竖屏播放 (适合移动端)
- ✅ 上下滑动切换视频 (沉浸式体验)
- ✅ 简洁的控制栏 (自动隐藏)
- ✅ 双击点赞/暂停

**自定义设计** (教育属性):
- ❌ **不采用**: 右侧点赞/评论/分享按钮布局 (过于娱乐化)
- ✅ **采用**: 底部控制栏布局 (类似B站/YouTube)
- ✅ **增加**: 知识点时间轴 (教育视频特色)
- ✅ **增加**: 讲义/笔记侧边栏

**播放器UI布局**:

```
┌──────────────────────────────────────┐
│  ← 返回    Transformer原理解析    ⋯   │  ← 顶部标题栏
├──────────────────────────────────────┤
│                                      │
│         视频播放区域                  │
│       (16:9 或 9:16)                 │
│                                      │
│  [知识点标记显示在视频上]             │
│                                      │
├──────────────────────────────────────┤
│  ▶️ 01:23 / 05:47    🔊    [全屏]    │  ← 底部控制栏
├──────────────────────────────────────┤
│  📖 相关漫画  💬 评论  ⭐ 收藏        │  ← 操作按钮
├──────────────────────────────────────┤
│  标题: Transformer架构详解            │
│  作者: AI小芝士  |  1.2万播放         │
└──────────────────────────────────────┘
```

**知识点时间轴**:

```
00:00 简介
00:45 Self-Attention机制
02:30 位置编码
03:50 Encoder-Decoder结构
05:10 总结
```

### 3.3 数据模型设计

#### 3.3.1 视频数据结构

```typescript
interface Video {
  id: string;
  type: 'video'; // 区分漫画和视频

  // 基本信息 (与漫画一致)
  title: string;
  author: string;
  description: string;
  categories: string[]; // ['机器学习', '深度学习']
  tags: string[];
  coverImage: string; // 视频封面
  status: 'ongoing' | 'completed';

  // 视频特有信息
  videoUrl: string;
  duration: number; // 视频时长(秒)
  resolution: '1080p' | '720p' | '480p';
  subtitles?: Subtitle[]; // 字幕

  // 统计信息 (与漫画一致)
  views: number;
  likes: number;
  updateTime: string;

  // 知识点时间轴 (视频特色)
  timeline: VideoTimeline[];

  // 关联漫画 (视频特色)
  relatedMangaIds: string[];

  // 角色信息 (保持一致性)
  character: string; // 'AI小芝士'
}

interface VideoTimeline {
  time: number; // 时间点(秒)
  title: string; // 知识点标题
  description?: string;
}

interface Subtitle {
  start: number;
  end: number;
  text: string;
  lang: 'zh' | 'en';
}
```

#### 3.3.2 数据存储

**方案1: JSON文件存储** (适合MVP)
```json
// data/videos.json
{
  "video-001": {
    "id": "video-001",
    "type": "video",
    "title": "Transformer原理解析",
    "character": "AI小芝士",
    "videoUrl": "/videos/transformer.mp4",
    "duration": 347,
    "timeline": [
      { "time": 0, "title": "简介" },
      { "time": 45, "title": "Self-Attention机制" }
    ],
    "relatedMangaIds": ["manga-001"]
  }
}
```

**方案2: 数据库存储** (适合生产环境)
- PostgreSQL / MySQL
- 表结构: `videos`, `video_timeline`, `subtitles`

---

## 四、用户体验设计

### 4.1 信息架构

#### 新的导航结构

```
首页 (Home)
├─ 混合流 (漫画+视频)
├─ 筛选: [全部] [漫画] [视频]

漫画专区 (Manga)
├─ 所有漫画列表
├─ 分类筛选

视频专区 (Video) ← 新增
├─ 所有视频列表
├─ 分类筛选
├─ 播放模式切换: [卡片模式] [沉浸模式]

我的 (Profile)
├─ 我的收藏 (漫画+视频)
├─ 我的书架 (漫画+视频)
├─ 观看历史
├─ 学习笔记
```

### 4.2 关键用户流程

#### 流程1: 漫画用户转化为视频用户
```
1. 用户浏览漫画列表
2. 看到"Transformer"漫画
3. 进入详情页
4. 发现"相关视频"推荐
   ┌─────────────────┐
   │ 📺 观看视频解析  │ ← 增强理解
   └─────────────────┘
5. 点击进入视频播放页
6. 完成观看 → 收藏视频
```

#### 流程2: 视频用户转化为漫画用户
```
1. 用户在"视频专区"浏览
2. 看到"Transformer"视频
3. 进入详情页
4. 发现"相关漫画"推荐
   ┌─────────────────┐
   │ 📖 先看漫画入门  │ ← 知识基础
   └─────────────────┘
5. 点击进入漫画阅读页
6. 完成阅读 → 添加到书架
```

#### 流程3: 首页混合浏览
```
1. 用户进入首页
2. 默认显示"全部"内容
3. 用户看到混合流:
   [漫画卡] [视频卡] [漫画卡] [视频卡]
4. 用户可切换到"只看视频"
5. 浏览并点击感兴趣的视频
```

### 4.3 响应式设计

#### 桌面端 (>1024px)
- **卡片模式**: 网格布局 (3-5列)
- **播放器**: 16:9横屏
- **详情页**: 左侧播放器 + 右侧信息

#### 平板端 (768px-1024px)
- **卡片模式**: 网格布局 (2-3列)
- **播放器**: 16:9横屏
- **详情页**: 上下布局

#### 移动端 (<768px)
- **卡片模式**: 网格布局 (2列) / 单列大卡片
- **播放器**: 9:16竖屏或16:9横屏切换
- **详情页**:
  - **选项1**: 传统模式 (全屏播放)
  - **选项2**: 沉浸模式 (类似TikTok上下滑动)

---

## 五、技术实现方案

### 5.1 前端技术栈

#### 视频播放器选择

**方案1: Video.js** (推荐)
- ✅ 功能完善，文档丰富
- ✅ 支持自定义UI
- ✅ 支持倍速、字幕、章节
- ✅ 移动端兼容好

**方案2: Plyr**
- ✅ UI美观现代
- ✅ 轻量级
- ⚠️ 功能相对简单

**方案3: 自研播放器**
- ✅ 完全定制
- ⚠️ 开发成本高
- ⚠️ 兼容性问题

**推荐**: Video.js + 自定义UI组件

#### 核心依赖
```json
{
  "dependencies": {
    "video.js": "^8.0.0",
    "@videojs/themes": "^1.0.1"
  }
}
```

### 5.2 页面路由设计

```
/app
  /video
    /[id]
      /page.tsx           ← 视频详情页 (播放器)
  /videos
    /page.tsx             ← 视频列表页 (类似首页)
  /api
    /videos
      /route.ts           ← 视频列表API
      /[id]
        /route.ts         ← 视频详情API
        /view
          /route.ts       ← 观看统计
        /like
          /route.ts       ← 点赞
```

### 5.3 数据流设计

```
┌─────────────┐
│ data/videos │ ← JSON文件存储
│  .json      │
└──────┬──────┘
       │
       ▼
┌─────────────┐     ┌──────────────┐
│ API路由     │────→│  前端组件    │
│/api/videos  │     │  VideoCard   │
└─────────────┘     │  VideoPlayer │
                    └──────────────┘
```

### 5.4 性能优化

1. **视频文件优化**
   - 使用H.264编码
   - 分辨率: 1080p / 720p
   - 封面图使用WebP格式

2. **懒加载**
   - 视频列表懒加载
   - 播放器按需加载

3. **CDN加速**
   - 视频文件上传至CDN
   - 封面图CDN加速

4. **预加载策略**
   - 首屏不自动播放
   - 用户点击后加载视频
   - 预加载下一集

---

## 六、UI/UX设计规范

### 6.1 视觉识别系统

#### 视频专属颜色
在现有emerald绿配色基础上，增加视频专属色:
- **视频主题色**: 紫色系 (紫色代表视频/动态)
- **Hex**: `#8B5CF6` (violet-500)
- **应用场景**:
  - 视频卡片标签
  - 视频播放按钮
  - 视频进度条

#### 类型标识设计
```
漫画标签: 📖 漫画  (绿色 bg-emerald-100)
视频标签: 📺 视频  (紫色 bg-violet-100)
```

### 6.2 交互设计原则

1. **一致性**
   - 漫画和视频的操作保持一致
   - 收藏/点赞/评论交互统一

2. **渐进增强**
   - 移动端优先设计
   - 桌面端增强体验

3. **反馈及时**
   - 操作后立即视觉反馈
   - 加载状态明确

---

## 七、分阶段实施计划

### Phase 1: MVP (最小可行产品) - 2周

**目标**: 验证视频功能可行性

**功能范围**:
- ✅ 视频列表页 (与首页类似)
- ✅ 视频详情页 (基础播放器)
- ✅ 视频数据模型 (JSON存储)
- ✅ 收藏/点赞功能
- ✅ 评论功能复用

**不包含**:
- ❌ 沉浸式播放模式
- ❌ 时间戳笔记
- ❌ 弹幕功能

### Phase 2: 核心功能 - 3周

**目标**: 完善视频核心体验

**新增功能**:
- ✅ 首页混合展示 (漫画+视频)
- ✅ 类型筛选器
- ✅ 倍速播放
- ✅ 字幕支持
- ✅ 知识点时间轴
- ✅ 相关漫画/视频推荐
- ✅ 观看历史记录

### Phase 3: 高级功能 - 2周

**目标**: 打造差异化竞争力

**新增功能**:
- ✅ 时间戳笔记
- ✅ 知识点书签
- ✅ 个人学习报告
- ✅ 移动端沉浸模式 (TikTok风格)
- ✅ 视频搜索优化

### Phase 4: 优化迭代 - 持续

**优化方向**:
- 性能优化
- UI/UX打磨
- 数据分析
- 用户反馈迭代

---

## 八、关键指标 (KPI)

### 8.1 用户指标
- **视频观看率**: 视频UV / 总UV
- **视频完播率**: 完整观看次数 / 播放次数
- **平均观看时长**: 总观看时长 / 播放次数

### 8.2 转化指标
- **漫画→视频转化率**: 看漫画的用户中观看视频的比例
- **视频→漫画转化率**: 看视频的用户中阅读漫画的比例
- **收藏率**: 视频收藏数 / 视频播放数

### 8.3 粘性指标
- **用户回访率**: 7日内回访用户比例
- **日均观看时长**: 每用户每日平均观看时长

---

## 九、风险与应对

### 9.1 技术风险

| 风险 | 影响 | 应对措施 |
|-----|------|---------|
| 视频文件过大 | 加载慢、流量高 | 使用CDN、视频压缩、分清晰度 |
| 播放器兼容性 | 部分设备无法播放 | 多浏览器测试、降级方案 |
| 并发访问高 | 服务器崩溃 | 负载均衡、视频CDN |

### 9.2 产品风险

| 风险 | 影响 | 应对措施 |
|-----|------|---------|
| 用户不接受视频 | 功能使用率低 | 小范围测试、用户调研 |
| 视频制作成本高 | 内容更新慢 | AI生成视频工具、UGC内容 |
| 漫画用户流失 | 老用户体验下降 | 保持漫画功能不变、渐进式推出 |

### 9.3 内容风险

| 风险 | 影响 | 应对措施 |
|-----|------|---------|
| 视频与漫画内容重复 | 用户觉得冗余 | 差异化定位: 漫画入门、视频深入 |
| 角色形象不一致 | 品牌认知混乱 | 统一角色设计规范 |

---

## 十、成功标准

### 10.1 MVP阶段 (1个月)
- ✅ 上线10+视频内容
- ✅ 视频播放率达到30%
- ✅ 用户满意度>4.0/5.0

### 10.2 完整功能 (3个月)
- ✅ 上线50+视频内容
- ✅ 视频播放率达到50%
- ✅ 漫画→视频转化率>20%
- ✅ 用户日均观看时长>10分钟

### 10.3 长期目标 (6个月)
- ✅ 形成"漫画+视频"内容矩阵
- ✅ 视频内容贡献30%+流量
- ✅ 用户留存率提升15%

---

## 十一、后续扩展方向

### 11.1 AI辅助创作
- AI漫画转视频工具
- AI视频剪辑助手
- AI字幕生成

### 11.2 社区功能
- 用户上传视频
- 视频评论弹幕化
- 知识点讨论区

### 11.3 学习路径
- 个性化学习推荐
- 知识图谱可视化
- 学习成就系统

---

## 十二、总结

### 核心设计理念
1. **混合展示**: 漫画和视频在同一平台，用户自由选择
2. **功能对齐**: 视频功能与漫画功能保持一致
3. **差异体验**: 视频在UI上采用紫色系，播放器参考B站而非TikTok
4. **角色联动**: 同一角色在漫画和视频中保持一致
5. **知识互补**: "漫画入门+视频深入"的学习路径

### 关键决策
| 决策点 | 选择 | 理由 |
|-------|------|------|
| 布局方式 | 混合布局 | 角色一致性、流量互通 |
| UI参考 | B站/YouTube | 教育属性，非娱乐化 |
| 功能点 | 对齐漫画 | 降低学习成本、统一体验 |
| 存储方案 | JSON文件 | MVP阶段快速迭代 |

---

**文档版本**: v1.0
**创建日期**: 2025-01-02
**产品经理**: AI Product Team
