# ç”¨æˆ·ä¸Šä¼ æ¼«ç”»åŠŸèƒ½è®¾è®¡æ–¹æ¡ˆ

## ä¸€ã€éœ€æ±‚åˆ†æ

### 1.1 æ ¸å¿ƒéœ€æ±‚
1. **ç”¨æˆ·ä¸Šä¼ **: ç”¨æˆ·å¯åœ¨ä¸ªäººä¸»é¡µä¸Šä¼ è‡ªå·±åˆ›ä½œçš„æ¼«ç”»
2. **æ¼«ç”»æ ¼å¼**: å°é¢å›¾ + é¡ºåºçš„ä¸€ç³»åˆ—å›¾ç‰‡
3. **å†…å®¹åŒºåˆ†**: ä¸ªäººä¸­å¿ƒåŒºåˆ†"æˆ‘ä¸Šä¼ çš„"å’Œ"æˆ‘æ”¶è—çš„"æ¼«ç”»
4. **å®¡æ ¸æœºåˆ¶**: ç”¨æˆ·ä¸Šä¼ çš„æ¼«ç”»éœ€ç®¡ç†å‘˜å®¡æ ¸åæ‰èƒ½å…¬å¼€æ˜¾ç¤º

### 1.2 æ‰©å±•åŠŸèƒ½ï¼ˆå»ºè®®ï¼‰
- ğŸ“Š æ•°æ®ç®¡ç†é¡µé¢
- ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- ğŸ“ˆ ä¸Šä¼ å†å²è®°å½•
- ğŸ”„ æ¼«ç”»ç¼–è¾‘/åˆ é™¤
- ğŸ“ ä¸Šä¼ çŠ¶æ€è¿½è¸ª
- ğŸ“¤ æ‰¹é‡ä¸Šä¼ æ”¯æŒ

---

## äºŒã€æ•°æ®æ¨¡å‹è®¾è®¡

### 2.1 ç”¨æˆ·ä¸Šä¼ æ¼«ç”»æ•°æ®ç»“æ„

```typescript
interface UserManga {
  id: string;                    // æ¼«ç”»ID
  uploaderId: string;            // ä¸Šä¼ è€…ID
  title: string;                 // æ ‡é¢˜
  description: string;           // æè¿°
  coverImage: string;            // å°é¢å›¾è·¯å¾„
  categories: string[];          // åˆ†ç±»
  tags: string[];                // æ ‡ç­¾
  status: 'pending' | 'approved' | 'rejected'; // å®¡æ ¸çŠ¶æ€
  rejectReason?: string;         // æ‹’ç»åŸå› 
  createdAt: string;             // åˆ›å»ºæ—¶é—´
  updatedAt: string;             // æ›´æ–°æ—¶é—´
  views: number;                 // æµè§ˆé‡
  likes: number;                 // ç‚¹èµæ•°

  // ç« èŠ‚ä¿¡æ¯
  chapters: UserChapter[];
}

interface UserChapter {
  id: string;                    // ç« èŠ‚ID
  title: string;                 // ç« èŠ‚æ ‡é¢˜
  pages: string[];               // é¡µé¢å›¾ç‰‡è·¯å¾„æ•°ç»„
  createdAt: string;
}
```

### 2.2 å®¡æ ¸è®°å½•æ•°æ®ç»“æ„

```typescript
interface ReviewRecord {
  id: string;
  mangaId: string;
  reviewerId: string;            // å®¡æ ¸ç®¡ç†å‘˜ID
  action: 'approve' | 'reject';
  reason?: string;
  reviewedAt: string;
}
```

### 2.3 æ–‡ä»¶å­˜å‚¨ç»“æ„

```
data/
â”œâ”€â”€ users.json                   # ç”¨æˆ·æ•°æ®
â”œâ”€â”€ user-manga.json              # ç”¨æˆ·ä¸Šä¼ æ¼«ç”»
â”œâ”€â”€ review-records.json          # å®¡æ ¸è®°å½•
â””â”€â”€ favorites.json

public/
â””â”€â”€ uploads/
    â””â”€â”€ manga/
        â”œâ”€â”€ [userId]/            # æŒ‰ç”¨æˆ·IDåˆ†ç›®å½•
        â”‚   â”œâ”€â”€ [mangaId]/
        â”‚   â”‚   â”œâ”€â”€ cover.jpg    # å°é¢å›¾
        â”‚   â”‚   â””â”€â”€ chapters/
        â”‚   â”‚       â”œâ”€â”€ [chapterId]/
        â”‚   â”‚       â”‚   â”œâ”€â”€ page-1.jpg
        â”‚   â”‚       â”‚   â”œâ”€â”€ page-2.jpg
        â”‚   â”‚       â”‚   â””â”€â”€ ...
```

---

## ä¸‰ã€åŠŸèƒ½è®¾è®¡

### 3.1 ç”¨æˆ·ä¸Šä¼ æµç¨‹

```
1. ç”¨æˆ·è¿›å…¥ä¸ªäººä¸­å¿ƒ
2. ç‚¹å‡»"ä¸Šä¼ æ¼«ç”»"æŒ‰é’®
3. å¡«å†™æ¼«ç”»ä¿¡æ¯
   â”œâ”€ æ ‡é¢˜ã€æè¿°
   â”œâ”€ é€‰æ‹©åˆ†ç±»ã€æ ‡ç­¾
   â””â”€ ä¸Šä¼ å°é¢å›¾
4. åˆ›å»ºç« èŠ‚
   â”œâ”€ ç« èŠ‚æ ‡é¢˜
   â””â”€ ä¸Šä¼ é¡µé¢å›¾ç‰‡ï¼ˆæ”¯æŒæ‹–æ‹½æ’åºï¼‰
5. æäº¤å®¡æ ¸
6. çŠ¶æ€: å¾…å®¡æ ¸ (pending)
7. ç®¡ç†å‘˜å®¡æ ¸
   â”œâ”€ é€šè¿‡ â†’ å…¬å¼€æ˜¾ç¤º
   â””â”€ æ‹’ç» â†’ è¿”å›ä¿®æ”¹ç†ç”±
```

### 3.2 ä¸ªäººä¸­å¿ƒé¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯¼èˆªæ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tab: [æˆ‘çš„ä¸Šä¼ ] [æˆ‘çš„æ”¶è—] [ä¸ªäººä¿¡æ¯]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æˆ‘çš„ä¸Šä¼  (3)                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  çŠ¶æ€ç­›é€‰: [å…¨éƒ¨] [å¾…å®¡æ ¸] [å·²é€šè¿‡] [å·²æ‹’ç»] â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  [+ ä¸Šä¼ æ–°æ¼«ç”»]                   â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”           â”‚  â”‚
â”‚  â”‚  â”‚å¾…å®¡æ ¸â”‚ â”‚å·²é€šè¿‡â”‚ â”‚å·²æ‹’ç»â”‚           â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ç®¡ç†å‘˜å®¡æ ¸é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç®¡ç†å‘˜æ§åˆ¶å°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾…å®¡æ ¸æ¼«ç”» (5)                          â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ¼«ç”»å¡ç‰‡                          â”‚   â”‚
â”‚  â”‚ å°é¢ | æ ‡é¢˜ | ä½œè€… | æè¿°         â”‚   â”‚
â”‚  â”‚ [é€šè¿‡] [æ‹’ç»] [æŸ¥çœ‹è¯¦æƒ…]         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  å®¡æ ¸å†å²                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€APIè®¾è®¡

### 4.1 ç”¨æˆ·ä¸Šä¼ ç›¸å…³

```
POST   /api/user/manga/upload          # ä¸Šä¼ æ¼«ç”»
GET    /api/user/manga                 # è·å–æˆ‘çš„ä¸Šä¼ åˆ—è¡¨
GET    /api/user/manga/[id]            # è·å–æ¼«ç”»è¯¦æƒ…
PUT    /api/user/manga/[id]            # ç¼–è¾‘æ¼«ç”»
DELETE /api/user/manga/[id]            # åˆ é™¤æ¼«ç”»
POST   /api/user/manga/[id]/submit     # æäº¤å®¡æ ¸
```

### 4.2 ç®¡ç†å‘˜å®¡æ ¸ç›¸å…³

```
GET    /api/admin/pending-manga        # è·å–å¾…å®¡æ ¸åˆ—è¡¨
POST   /api/admin/manga/[id]/review    # å®¡æ ¸æ¼«ç”»
GET    /api/admin/review-history       # å®¡æ ¸å†å²
```

### 4.3 æ–‡ä»¶ä¸Šä¼ 

```
POST   /api/upload/cover               # ä¸Šä¼ å°é¢
POST   /api/upload/pages               # ä¸Šä¼ é¡µé¢å›¾ç‰‡
```

---

## äº”ã€UI/UXè®¾è®¡è¦ç‚¹

### 5.1 ä¸Šä¼ é¡µé¢
- **æ­¥éª¤å¼è¡¨å•**: åˆ†æ­¥å¼•å¯¼ç”¨æˆ·å¡«å†™
- **å®æ—¶é¢„è§ˆ**: ä¸Šä¼ å°é¢æ—¶ç«‹å³é¢„è§ˆ
- **æ‹–æ‹½æ’åº**: ç« èŠ‚é¡µé¢æ”¯æŒæ‹–æ‹½è°ƒæ•´é¡ºåº
- **è¿›åº¦æç¤º**: ä¸Šä¼ å¤§æ–‡ä»¶æ—¶æ˜¾ç¤ºè¿›åº¦æ¡

### 5.2 çŠ¶æ€æ ‡è¯†
- **å¾…å®¡æ ¸**: ğŸŸ¡ é»„è‰²æ ‡ç­¾ "å®¡æ ¸ä¸­"
- **å·²é€šè¿‡**: ğŸŸ¢ ç»¿è‰²æ ‡ç­¾ "å·²ä¸Šæ¶"
- **å·²æ‹’ç»**: ğŸ”´ çº¢è‰²æ ‡ç­¾ "æœªé€šè¿‡" + æ‹’ç»åŸå› 

### 5.3 æƒé™æ§åˆ¶
- åªæœ‰ç™»å½•ç”¨æˆ·å¯ä¸Šä¼ 
- åªèƒ½æŸ¥çœ‹è‡ªå·±çš„ä¸Šä¼ 
- ç®¡ç†å‘˜å¯æŸ¥çœ‹æ‰€æœ‰ä¸Šä¼ 

---

## å…­ã€æŠ€æœ¯å®ç°è¦ç‚¹

### 6.1 æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–
- ä½¿ç”¨ FormData ä¸Šä¼ å¤šæ–‡ä»¶
- å®¢æˆ·ç«¯å‹ç¼©å›¾ç‰‡ï¼ˆé™åˆ¶å•å¼ <2MBï¼‰
- æœåŠ¡ç«¯éªŒè¯æ–‡ä»¶ç±»å‹å’Œå¤§å°
- ä½¿ç”¨æ—¶é—´æˆ³ç”Ÿæˆå”¯ä¸€æ–‡ä»¶å

### 6.2 å®¡æ ¸æµç¨‹
- æäº¤åçŠ¶æ€å˜ä¸º pending
- å·²é€šè¿‡çš„æ¼«ç”»æ‰ä¼šæ˜¾ç¤ºåœ¨é¦–é¡µ
- å·²æ‹’ç»çš„æ¼«ç”»å¯ä¿®æ”¹åé‡æ–°æäº¤

### 6.3 æ•°æ®ä¸€è‡´æ€§
- åˆ é™¤æ¼«ç”»æ—¶åŒæ­¥åˆ é™¤å›¾ç‰‡æ–‡ä»¶
- å®¡æ ¸é€šè¿‡åè®¡å…¥ç»Ÿè®¡æ•°æ®
- ç”¨æˆ·å¤´åƒå’Œä¸Šä¼ æ¼«ç”»å…³è”æ˜¾ç¤º

---

## ä¸ƒã€åˆ†é˜¶æ®µå®æ–½

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ï¼ˆ1å‘¨ï¼‰
- âœ… ä¸Šä¼ é¡µé¢UI
- âœ… æ–‡ä»¶ä¸Šä¼ API
- âœ… æ•°æ®å­˜å‚¨ç»“æ„
- âœ… åŸºç¡€å®¡æ ¸æµç¨‹

### Phase 2: å®Œå–„ä½“éªŒï¼ˆ1å‘¨ï¼‰
- âœ… ä¸ªäººä¸­å¿ƒTabåˆ‡æ¢
- âœ… çŠ¶æ€ç­›é€‰
- âœ… æ¼«ç”»ç¼–è¾‘/åˆ é™¤
- âœ… æ‰¹é‡ä¸Šä¼ 

### Phase 3: ç®¡ç†åŠŸèƒ½ï¼ˆ3å¤©ï¼‰
- âœ… ç®¡ç†å‘˜å®¡æ ¸é¡µé¢
- âœ… å®¡æ ¸å†å²è®°å½•
- âœ… æ•°æ®ç»Ÿè®¡çœ‹æ¿

---

## å…«ã€åç»­æ‰©å±•

- UGCå†…å®¹æ¨èç®—æ³•
- åˆ›ä½œè€…æ¿€åŠ±ä½“ç³»
- æ¼«ç”»è¯„è®ºå’Œåé¦ˆ
- ä½œå“æ•°æ®åˆ†æ
- ç‰ˆæƒä¿æŠ¤æœºåˆ¶
